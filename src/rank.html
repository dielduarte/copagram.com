<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Rank - Copagram</title>

	<!-- CSS IMPORT-->
	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/normalize/2.1.3/normalize.min.css">
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" href="css/responsive.16col.css">
	<link rel="stylesheet" href="css/style.css">
</head>
<body>

	<div class="row">
		<div class="top col-sm-12">
			<div class="bigtext left"><a href="index.html">Copagram</a></div>
			
				<ul class="menu">
					<li><a href="index.html">Mural</a></li>
					<li><a href="rank.html">rank</a></li>
					<li><a href="#" data-toggle="modal" data-target="#parceirosModal">Parceiros</a></li>
					<li><a href="#" data-toggle="modal" data-target="#aboutModal">sobre</a></li>
				</ul>

				<div class="responsivemenu">
					<a href="#" class="btnresponsivemenu"><img src="img/menu.png" alt=""></a>	
				</div>
				<ul class="submenu">
					<li><a href="index.html">Mural</a></li>
					<li><a href="rank.html">rank</a></li>
					<li><a href="#" data-toggle="modal" data-target="#parceirosModal">Parceiros</a></li>
					<li><a href="#" data-toggle="modal" data-target="#aboutModal">sobre</a></li>
				</ul>
		</div>
	</div>

	<div class="col span_4 colrank colrankleft">
		<div class="number yellow">#1</div>
		<img src="img/teste.jpg" alt="" class="defaultimg bigheight" id="0">
		<div class="nick">
			<img src="img/instagram.png" alt="" style="width:24px;height:24px;margin-top:-5px;" >
			<span class="nickname"></span>
		</div>
		<div class="likesmural none like0">
			
		</div>
	</div>
	<div class="col span_2 colrank">
		<div class="number numbermid">#2</div>
		<img src="img/teste.jpg" alt="" class="defaultimg" id="1">
			<div class="nickmural">
				<img src="img/instagram.png" alt="" style="width:12px;height:12px;" >
				<span class="nicknamemin"></span>
			</div>
			<div class="likesmural none like1">
			
			</div>

		<div class="number numbermid">#4</div>
		<img src="img/teste.jpg" alt="" class="defaultimg" id="2">
			<div class="nickmural">
				<img src="img/instagram.png" alt="" style="width:12px;height:12px;" >
				<span class="nicknamemin"></span>
			</div>
			<div class="likesmural none like2">
		
			</div>
	</div>
	<div class="col span_2 colrank">
		<div class="number numbermid">#3</div>
		<img src="img/teste.jpg" alt="" class="defaultimg" id="3">
			<div class="nickmural">
				<img src="img/instagram.png" alt="" style="width:12px;height:12px;" >
				<span class="nicknamemin"></span>
			</div>
			<div class="likesmural none like3">
	
			</div>

		<div class="number numbermid">#5</div>
		<img src="img/teste.jpg" alt="" class="defaultimg" id="4">
			<div class="nickmural">
				<img src="img/instagram.png" alt="" style="width:12px;height:12px;" >
				<span class="nicknamemin"></span>
			</div>
			<div class="likesmural none like4">
		
			</div>
	</div>

	<div class="modal fade" id="aboutModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	 	<div class="aboutmodal">
	 		<div class="bigtext">Copagram</div>
			<p class="textabout">
				Copagram foi criado por 3 amigos:
				<p class="roboto">	
					 Diel Duarte (desenvolvedor - contato@dielduarte.com)
					</br> Marcio Mansur (desenvolvedor - mrabeloo@gmail.com)
					 </br>Giovanne Alberique (designer - alberiquegiovanni@gmail.com)
				</p>
			</br>
				<p class="textabout">
					Por que não um mural de fotos especialmente para a copa?
					 por que não integrarmos isso ao instagram
					(rede social de compartilhamento de fotos usada pelo mundo todo)?
					A resposta para essas e mais algumas(muitas.. rsrs) perguntas se chama COPAGRAM, um
					mural online da copa do mundo de 2014. 
					</br></br>
					<p class="roboto">Copagram , compartilhe sua copa!</p>
				</p>
			</p>
	 		<a href="#" data-dismiss="modal" class="btnok">OK</a>
	 	</div>
	</div>
	</div>

	<div class="modal fade" id="parceirosModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	 	<div class="aboutmodal">
	 		<div class="bigtext">Parceiros</div>
				<img src="img/publix.png" alt="Publix comunicação" class="imgparceiros">
				<img src="img/betimbunita.jpeg" alt="Betim Bunita" class="imgparceiros" style=" height: 110px; width: 140px; ">
	 		<a href="#" data-dismiss="modal" class="btnok">X</a>
	 	</div>
	</div>

	<div class="row footer">
		<p>
		Use as hastags <span class="hastag">#COPAGRAM, #WORLDCUP2014 </span> ou <span class="hastag">#COPADOMUNDO2014</span> apareça no nosso mural e concorra a <span class="hastag">#PREMIOS!</span>
		</p>
	</div>
	


	<script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
	<script src="http://code.stephenmorley.org/javascript/queues/Queue.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/respond.min.js"></script>
		<script type="text/javascript">

			$('.responsivemenu').click(function(){
				if($('.submenu').hasClass('block')){
					$('.submenu').removeClass('block');
				} 
				else {	
					$('.submenu').addClass('block')
				}
			});


			var settings = {
				hashtags: "bacon",
				client_id: "a2b4e3e7da704010a5d87416baec426e",
				images_to_fetch: 5,
				fetch_time: 150,
				display_time: 150
			}

			var imgs = new Array();
			var newimg = new Array();

			function loadPics()
			{
				
					$.ajax({
						type: 'GET',
						dataType: 'jsonp',
						url: "https://api.instagram.com/v1/tags/" + settings.hashtags + "/media/recent",
						data: {
							access_token: null,
							client_id: settings.client_id,
							count: 200
						},
						success: function(dados) {

							var fotos = dados.data;

							for (var i = 0; i < fotos.length; i++) {
								
								var foto = fotos[i];

								var img = foto.images.standard_resolution.url;
								var like = foto.likes.count;
								var user = foto.user.username;
								var link = foto.link;

								imgs.push({img: img, user: user, like: like, link: link});
							}

							order(imgs);

							for(var i = 5; i > 0; i--){

								var id     = "#"+ i;
								var nick   = '.nm'+ i;
								var	url    = '.url'+i;
								var Nlikes = '.like'+i; 

								alert(imgs[i].like);
									    				
								$(id).attr('src', imgs[i].img);
								$(nick).text(imgs[i].user);
								$(Nlikes).text(imgs[i].like + " Likes");
								$(url).prop('href', imgs[i].link);
								$(url).attr('target','_blank');

							}
						}
				});

				setTimeout(function() {
			        loadPics();
			    }, settings.fetch_time * 1000);
		}
		

		function order(vet){

			var auxLink;
			var auxImg;
			var auxLike;
			var auxUser;

			for (var i = 0; i < vet.length - 1; i++) {
				
				if (vet[i].like > vet[i+1].like) {
                
                auxLink = vet[i].link;
                auxUser = vet[i].user;
                auxLike = vet[i].like;
                auxImg = vet[i].img;

                vet[i].link = vet[i+1].link;
                vet[i].user = vet[i+1].user
				vet[i].like = vet[i+1].like;
				vet[i].img = vet[i+1].img;

                vet[i+1].link = auxLink;
                vet[i+1].user = auxUser;
                vet[i+1].like = auxLike;
                vet[i+1].img = auxImg;
			}
		}

		for(var i = 0; i < vet.length;i++){
			alert(vet[i].like);
		}
	}


		$(document).ready(function(){
			loadPics();
		});

	</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-51854829-1', 'copagram.com');
  ga('send', 'pageview');

</script>
</body>
</html>